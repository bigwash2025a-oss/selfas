# SelfAS - 셀프 세차장 AS 서비스 관리 시스템

## 비즈니스 모델 (B2B)

**우리 = AS 서비스 제공 업체**
셀프 세차장 장비 고장 시 출동 수리 서비스를 제공하는 전문 업체입니다.

**고객 = 셀프 세차장 관리자/대표**
세차장 장비(거품기, 세차기, 진공청소기 등)에 문제가 발생했을 때 우리 서비스를 이용합니다.

**서비스 흐름**:
세차장 장비 고장 발생 → 세차장 관리자가 AS 요청 → 우리 기사 출동 → 현장 수리

---

## 주요 기능

### 세차장 관리자 기능 (우리의 고객)
- 🚗 실시간 AS 요청 접수 (베이별, 장비별)
- 💬 우리 기사와 1:1 채팅
- 📅 출동 스케줄 확인 및 조정 (수락/변경/거절)
- 📎 장비 사진 첨부 (고장 상태 공유)
- 🔔 실시간 출동 알림

### 우리 기사 기능 (서비스 제공자)
- 📋 세차장별 AS 요청 대시보드
- 🗓️ 출동 스케줄 관리 및 배정
- 💬 세차장 관리자와 실시간 채팅
- 📊 로그 분석 및 활동 모니터링
- 🚨 긴급 출동 알림 수신

### 시스템 관리 기능
- 📝 자동 로그 기록 (세차장 정보, IP, 장비, 문제 유형)
- 🔄 실시간 WebSocket 통신
- 🎯 베이별 장비 관리
- 📈 AS 활동 통계 및 분석
- 🏢 세차장별 히스토리 관리

## 기술 스택

- **Backend**: Python FastAPI + WebSocket
- **Frontend**: HTML5 + Vanilla JavaScript
- **Database**: SQLite
- **Logging**: RotatingFileHandler (10MB, 5 backups)

## 설치 및 실행

```bash
# 백엔드 서버 실행
cd backend
python3 as_system.py

# 브라우저에서 접속
# 세차장 관리자용: http://localhost:53001/customer-as-request.html
# 우리 기사용: http://localhost:53001/technician-app.html
```

## 파일 구조

```
selfas/
├── backend/
│   └── as_system.py          # FastAPI 백엔드 서버
├── logs/
│   └── as_system.log         # 시스템 로그
├── customer-as-request.html  # 세차장 관리자 AS 요청 폼
├── customer-chat.html        # 세차장 관리자 채팅 인터페이스
├── chat-widget.html          # 채팅 위젯
├── technician-app.html       # 우리 기사 대시보드
├── as-request-detail.html    # AS 요청 상세보기
└── staff-dashboard.html      # 우리 스태프 대시보드
```

## 로그 기록

시스템은 다음 활동을 자동으로 로그에 기록합니다:
- AS 요청 생성 (세차장 관리자 정보, IP, 베이번호, 장비 종류, 문제 유형)
- 채팅 메시지 (세차장 관리자 ↔ 우리 기사)
- 파일 업로드 (장비 고장 사진, 파일명, 크기)
- 출동 스케줄 변경 (날짜, 시간, 변경사유)

## 핵심 가치

1. **빠른 대응**: 실시간 채팅으로 세차장 관리자와 즉시 소통
2. **투명한 서비스**: 모든 AS 활동이 로그로 기록되어 추적 가능
3. **효율적 관리**: 베이별, 장비별 히스토리로 예방 정비 가능
4. **유연한 스케줄**: 세차장 영업시간에 맞춰 출동 시간 조정 가능

## 개발 이력

- 2025-11-23: 로그 시스템 및 고객 스케줄 상호작용 기능 추가
- 실시간 로그 뷰어 구현
- 차량 정보 필드 제거
- AS 요청 상세보기 페이지 구현
